!function(){var a,t,e=Cookies.get("confTab")?Cookies.get("confTab"):"01",l=[],i={},n={},O=[];function N(e){return null!==e.match(/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/)}const D={savePage01:function(){var e,a,t=$('input[name="edit_in_time_h"]').val(),i=$('input[name="edit_in_time_m"]').val(),t=(t||(e=""),t&&!i&&!1===N(e=("0"+t).slice(-2)+":00")&&(e=""),t&&i&&!1===N(e=("0"+t).slice(-2)+":"+("0"+i).slice(-2))&&(e=""),$('input[name="edit_out_time_h"]').val()),i=$('input[name="edit_out_time_m"]').val(),t=(t||(a=""),t&&!i&&!1===N(a=("0"+t).slice(-2)+":00")&&(a=""),t&&i&&!1===N(a=("0"+t).slice(-2)+":"+("0"+i).slice(-2))&&(a=""),{company_name:{id:$('input[name="page01_company_name"]').attr("data-id"),value:$('input[name="page01_company_name"]').val()},id_size:{id:$('select[name="page01_id_size"]').attr("data-id"),value:$('select[name="page01_id_size"] option:selected').val()},download_filetype:{id:$('[name="page01_filetype"]').attr("data-id"),value:$('select[name="page01_filetype"] option:selected').val()},end_day:{id:$('[name="page01_end_day"]').attr("data-id"),value:$('select[name="page01_end_day"] option:selected').val()},over_time_flag:{id:$('[name="page01_over_time_flag"]').attr("data-id"),value:$('input[name="page01_over_time_flag"]:checked').val()},night_time_flag:{id:$('[name="page01_night_time_flag"]').attr("data-id"),value:$('input[name="page01_night_time_flag"]:checked').val()},area_flag:{id:$('[name="page01_area_flag"]').attr("data-id"),value:$('input[name="page01_area_flag"]:checked').val()},gps_flag:{id:$('[name="page01_gps_flag"]').attr("data-id"),value:$('input[name="page01_gps_flag"]:checked').val()},minute_time_flag:{id:$('[name="page01_minute_time_flag"]').attr("data-id"),value:$('input[name="page01_minute_time_flag"]:checked').val()},normal_time_flag:{id:$('[name="page01_normal_time_flag"]').attr("data-id"),value:$('input[name="page01_normal_time_flag"]:checked').val()},edit_in_time:{id:$('[name="edit_in_time_h"]').attr("data-id"),value:e},edit_out_time:{id:$('[name="edit_out_time_h"]').attr("data-id"),value:a},edit_min:{id:$('[name="edit_min"]').attr("data-id"),value:$('select[name="edit_min"]  option:selected').val()}});return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_01",data:{saveData:t}})},checkPage02:function(){var e=Object.keys(rule_type_data).map(function(e){return rule_type_data[e]});if(e=e,new Set(e).size!=e.length)alert("エラー　ルール適応に重複があります！");else{O=$("#rules_list").sortable("toArray");for(var a={},t=0;t<Object.keys(rule_num).length;t++){var i=Number($('[name="rule_type_'+rule_num[t]+'"]:checked').val()),n="",l="";if(2===i&&(n=Number($('[name="rule_group_title_'+rule_num[t]+'"]:checked').attr("data-group-id")),l=Number($('[name="rule_group_id_'+rule_num[t]+"_"+n+'"] option:selected').val()),!n||!l))return void alert("エラー　入力に誤りがあります！グループ未設定");var o="",_=(3===i&&(o=Number($('[name="rule_user_id_'+rule_num[t]+'"] option:selected').val())),Number($('[name="in_marume_flag_'+rule_num[t]+'"]:checked').val())),d="",s="";if(1===_&&(d=Number($('[name="in_marume1_hour_'+rule_num[t]+'"] option:selected').val())),2===_&&(g=("0"+$('[name="in_marume2_m_'+rule_num[t]+'"]').val()).slice(-2),s=$('[name="in_marume2_h_'+rule_num[t]+'"]').val()+":"+g),3===_&&(d=Number($('[name="in_marume3_hour_'+rule_num[t]+'"] option:selected').val()),g=("0"+$('[name="in_marume3_m_'+rule_num[t]+'"]').val()).slice(-2),s=$('[name="in_marume3_h_'+rule_num[t]+'"]').val()+":"+g),5===_&&(d=Number($('[name="in_marume5_hour_'+rule_num[t]+'"] option:selected').val())),2===_||3===_){if(!1===N(s))return void alert("エラー　入力に誤りがあります！出勤合わせ時刻");s+=":00"}var r=Number($('[name="out_marume_flag_'+rule_num[t]+'"]:checked').val()),u="",m="";if(1===r&&(u=Number($('[name="out_marume1_hour_'+rule_num[t]+'"] option:selected').val())),2===r&&(g=("0"+$('[name="out_marume2_m_'+rule_num[t]+'"]').val()).slice(-2),m=$('[name="out_marume2_h_'+rule_num[t]+'"]').val()+":"+g),3===r&&(u=Number($('[name="out_marume3_hour_'+rule_num[t]+'"] option:selected').val()),g=("0"+$('[name="out_marume3_m_'+rule_num[t]+'"]').val()).slice(-2),m=$('[name="out_marume3_h_'+rule_num[t]+'"]').val()+":"+g),5===r&&(u=Number($('[name="out_marume5_hour_'+rule_num[t]+'"] option:selected').val())),2===r||3===r){if(!1===N(m))return void alert("エラー　入力に誤りがあります！出勤合わせ時刻");m+=":00"}var c=Number($('[name="basic_in_'+rule_num[t]+'"]:checked').val()),p="";if(1===c){var g=("0"+$('[name="in_basic_m_'+rule_num[t]+'"]').val()).slice(-2);if(!1===N(p=$('[name="in_basic_h_'+rule_num[t]+'"]').val()+":"+g))return void alert("エラー　入力に誤りがあります！定時　出勤時刻");p+=":00";var f=new Date("2000-01-01 "+p)}var v=Number($('[name="basic_out_'+rule_num[t]+'"]:checked').val()),h="";if(1===v){g=("0"+$('[name="out_basic_m_'+rule_num[t]+'"]').val()).slice(-2);if(!1===N(h=$('[name="out_basic_h_'+rule_num[t]+'"]').val()+":"+g))return void alert("エラー　入力に誤りがあります！定時　退勤時刻");h+=":00";var b=new Date("2000-01-01 "+h)}if(1===c&&1===v&&f.getTime()>b.getTime())return void alert("エラー　入力に誤りがあります！定時時刻");if(!(1!==c&&1!==v||p&&h))return void alert("エラー　入力に誤りがあります！定時時刻");var y=$("input[name=basic_rest_weekday_"+rule_num[t]+"]:checked").map(function(){return $(this).val()}).get(),T=Number($('[name="over_limit_hour_'+rule_num[t]+'"]').val()),k=Number($('[name="rest_flag_'+rule_num[t]+'"]:checked').val()),w=(w=Number($('[name="rest_id_'+rule_num[t]+'"]').val()))||"new",C="",P="",j="",x="",A="";if(1===k){if(!(A=Number($('[name="rest_type_'+rule_num[t]+'"]:checked').val())))return void alert("エラー　入力に誤りがあります！休憩定義");if(1===A){if(C=Number($('[name="rest_limit_work_'+rule_num[t]+'"]').val()),P=Number($('[name="rest_time_'+rule_num[t]+'"]').val()),0<!C||0<!P)return void alert("エラー　入力に誤りがあります！休憩定義 時間適応");if(C<P)return void alert("エラー　入力に誤りがあります！休憩定義 時間適応")}if(2===A){g=("0"+$('[name="rest_in_time_m_'+rule_num[t]+'"]').val()).slice(-2);if(!1===N(j=$('[name="rest_in_time_h_'+rule_num[t]+'"]').val()+":"+g))return void alert("エラー　入力に誤りがあります！休憩定義 指定時刻in");j+=":00";var S=new Date("2000-01-01 "+j),g=("0"+$('[name="rest_out_time_m_'+rule_num[t]+'"]').val()).slice(-2);if(!1===N(x=$('[name="rest_out_time_h_'+rule_num[t]+'"]').val()+":"+g))return void alert("エラー　入力に誤りがあります！休憩定義 指定時刻out");x+=":00";var M=new Date("2000-01-01 "+x);if(S.getTime()>M.getTime())return void alert("エラー　入力に誤りがあります！休憩定義 指定時刻")}}S=O.indexOf("rule_"+rule_num[t]);a[t]={rule_id:rule_num[t],rule_title:$('[name="rule_title_'+rule_num[t]+'"]').val(),rule_type:i,rule_group_id:n,rule_group_no:l,rule_user_id:o,in_marume_flag:_,out_marume_flag:r,in_marume_hour:d,out_marume_hour:u,in_marume_time:s,out_marume_time:m,basic_in_time_flag:c,basic_out_time_flag:v,basic_in_time:p,basic_out_time:h,basic_rest_weekday:y,over_limit_hour:T,rest_rule_flag:k,rest_type:A,rest_rule_id:w,limit_work_hour:C,rest_time:P,rest_in_time:j,rest_out_time:x,order:S}}D.savePage02(a).done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}},savePage02:function(e){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_02",data:{rule_data:e}})},delPage02:function(e,a){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/del_page_02",data:{rule_id:e,rest_id:a}})},savePage03:function(){var e={gateway_mail_flag:{id:$('input[name="page03_gateway_mail_flag"]').attr("data-id"),value:$('input[name="page03_gateway_mail_flag"]:checked').val()},gateway_status_view_flag:{id:$('input[name="gateway_status_view_flag"]').attr("data-id"),value:$('input[name="gateway_status_view_flag"]:checked').val()},rest_input_flag:{id:$('input[name="rest_input_flag"]').attr("data-id"),value:$('input[name="rest_input_flag"]:checked').val()},input_confirm_flag:{id:$('input[name="input_confirm_flag"]').attr("data-id"),value:$('input[name="input_confirm_flag"]:checked').val()}};return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_03",data:{gateway_mail_flag:$('input[name="page03_gateway_mail_flag"]:checked').val(),message_title_data_id:$('input[name="message_title_data_id"]').val(),public_message1_flag:$('input[name="page03_public_message1_flag"]:checked').val(),public_message1_title:$('input[name="page03_public_message1_title"]').val(),public_message1:$('textarea[name="page03_public_message1"]').val(),saveData:e}})},savePage04:function(){for(var e=[],a=1;a<=3;a++)e[a-1]=$('input[name="page04_group'+a+'-title"]').val();for(var t=[],a=1;a<=3;a++){for(var i=[],n=1;n<=num_group[a];n++)i[n-1]=$('input[name="group'+a+"_id_"+n+'"]').val();t[a-1]=i}return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_04",data:{group_title:e,group_order:l,group_item:t}})},delGroupItem:function(e,a){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/del_item_page_04",data:{group_id:e,item_id:a}})},getLoginUserData:function(e){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/get_loginuser_data_page_05",data:{id:e}})},savePage05:function(){var e;return e=1==$('select[name="login_authority"] option:selected').val()?$('select[name="area_name"] option:selected').val():"",$.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_05",data:{id:$("#login_modal_submit").attr("data-id"),login_id:$('input[name="login_user_id"]').val(),password:$('input[name="login_user_password"]').val(),user_name:$('input[name="login_user_name"]').val(),authority:$('select[name="login_authority"] option:selected').val(),area_id:e,flag:a}})},delPage05:function(e){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/del_page_05",data:{id:e}})},getArearData:function(e){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/get_area_data_page_06",data:{id:e}})},savePage06:function(){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_06",data:{id:$("#area_modal_submit").attr("data-id"),area_name:$('input[name="area_name"]').val(),flag:t,host_ip:$('input[name="host_ip"]').val()}})},delPage06:function(e){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/del_page_06",data:{id:e}})},savePage07:function(){var e={resq_flag:{id:$('input[name="resq_flag"]').attr("data-id"),value:$('input[name="resq_flag"]:checked').val()},resq_company_code:{id:$('input[name="resq_company_code"]').attr("data-id"),value:$('input[name="resq_company_code"]').val()}};return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_07",data:{saveData:e}})},savePage08:function(){var e={mypage_flag:{id:$('input[name="mypage_flag"]').attr("data-id"),value:$('input[name="mypage_flag"]:checked').val()},mypage_input_flag:{id:$('input[name="mypage_input_flag"]').attr("data-id"),value:$('input[name="mypage_input_flag"]:checked').val()},mypage_profile_edit_flag:{id:$('input[name="mypage_profile_edit_flag"]').attr("data-id"),value:$('input[name="mypage_profile_edit_flag"]:checked').val()},mypage_password_edit_flag:{id:$('input[name="mypage_password_edit_flag"]').attr("data-id"),value:$('input[name="mypage_password_edit_flag"]:checked').val()},mypage_end_day:{id:$('select[name="mypage_end_day"]').attr("data-id"),value:$('select[name="mypage_end_day"] option:selected').val()},mypage_user_edit_flag:{id:$('input[name="mypage_user_edit_flag"]').attr("data-id"),value:$('input[name="mypage_user_edit_flag"]:checked').val()},mypage_my_inout_view_flag:{id:$('input[name="mypage_my_inout_view_flag"]').attr("data-id"),value:$('input[name="mypage_my_inout_view_flag"]:checked').val()},mypage_status_inout_view_flag:{id:$('input[name="mypage_status_inout_view_flag"]').attr("data-id"),value:$('input[name="mypage_status_inout_view_flag"]:checked').val()},mypage_status_view_flag:{id:$('input[name="mypage_status_view_flag"]').attr("data-id"),value:$('input[name="mypage_status_view_flag"]:checked').val()},mypage_shift_flag:{id:$('input[name="mypage_shift_flag"]').attr("data-id"),value:$('input[name="mypage_shift_flag"]:checked').val()},mypage_self_edit_flag:{id:$('input[name="mypage_self_edit_flag"]').attr("data-id"),value:$('input[name="mypage_self_edit_flag"]:checked').val()}};return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_08",data:{saveData:e}})},savePage09:function(){var e={notice_mail_flag:{id:$('input[name="notice_mail_flag"]').attr("data-id"),value:$('input[name="notice_mail_flag"]:checked').val()},notice_mailaddress1:{id:$('input[name="notice_mailaddress1"]').attr("data-id"),value:$('input[name="notice_mailaddress1"]').val()},notice_mailaddress2:{id:$('input[name="notice_mailaddress2"]').attr("data-id"),value:$('input[name="notice_mailaddress2"]').val()},notice_mailaddress3:{id:$('input[name="notice_mailaddress3"]').attr("data-id"),value:$('input[name="notice_mailaddress3"]').val()},notice_mailaddress4:{id:$('input[name="notice_mailaddress4"]').attr("data-id"),value:$('input[name="notice_mailaddress4"]').val()},notice_mailaddress5:{id:$('input[name="notice_mailaddress5"]').attr("data-id"),value:$('input[name="notice_mailaddress5"]').val()}};return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_09",data:{saveData:e}})},savePage10:function(){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_10",data:{notice_order:i,notice_status_data:n}})},csv_download_page_11:function(e,a){var t=document.createElement("form"),i=(t.setAttribute("action","../../data/admin_conf_download"),t.setAttribute("method","post"),t.style.display="none",document.body.appendChild(t),document.createElement("input")),e=(i.setAttribute("type","hidden"),i.setAttribute("name","type"),i.setAttribute("value",e),t.appendChild(i),document.createElement("input"));e.setAttribute("type","hidden"),e.setAttribute("name","csv_date"),e.setAttribute("value",a),t.appendChild(e),t.submit()},savePage12:function(){var e={shift_view_flag:{id:$('input[name="shift_view_flag"]').attr("data-id"),value:$('input[name="shift_view_flag"]:checked').val()},shift_cal_first_day:{id:$('input[name="shift_cal_first_day"]').attr("data-id"),value:$('input[name="shift_cal_first_day"]:checked').val()},auto_shift_flag:{id:$('input[name="auto_shift_flag"]').attr("data-id"),value:$('input[name="auto_shift_flag"]:checked').val()},mypage_shift_alert:{id:$('input[name="mypage_shift_alert"]').attr("data-id"),value:$('input[name="mypage_shift_alert"]:checked').val()},shift_closing_day:{id:$('select[name="shift_closing_day"]').attr("data-id"),value:$('select[name="shift_closing_day"] option:selected').val()}};return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_12",data:{saveData:e}})},savePage14:function(){return $.ajax({type:"POST",dataType:"json",url:"../../data/admin_conf/save_page_14",data:{message_in_id:$('[name="page14_message_in_id"]').val(),message_in_flag:$('[name="page14_message_in_flag"]:checked').val(),message_in_title:$('[name="page14_message_in_title"]').val(),message_in_detail:$('[name="page14_massage_in_detail"]').val(),message_out_id:$('[name="page14_message_out_id"]').val(),message_out_flag:$('[name="page14_message_out_flag"]:checked').val(),message_out_title:$('[name="page14_message_out_title"]').val(),message_out_detail:$('[name="page14_massage_out_detail"]').val()}})},savePage16:function(){return $.ajax({type:"POST",dataType:"json",url:"../data/admin_conf/save_page_16",data:{pay_flag:$('[name="page16_pay_flag"]:checked').val()}})}},o={renderTab:function(e){$(".tab-page").removeClass("active-page"),$("#page_"+e).addClass("active-page"),$(".tab").removeClass("active-menu"),$("#tab_"+e).addClass("active-menu")},addGroupItem:function(e){num_group[e]++,$("#sortable_"+e).append('<li id="'+num_group[e]+'" class="ui-state-default group-item"><span class="group-item-sort"><i class="fas fa-sort"></i></span><input type="text" name="group'+e+"_id_"+num_group[e]+'" class="field_page_04" style="width:180px;"><span class="group-item-del"><i class="fas fa-times-circle"></i></span></li>'),l[e-1]=$("#sortable_"+e).sortable("toArray")},renderLoginModal:function(e,a){$("#modal-error-message").hide(),$(".field_page_05").val(""),$("#login_modal_submit").addClass("disabled");var t="edit"===a?"ログインユーザー編集":"新規ログインユーザー追加",i="edit"===a?"「"+e.user_name+"」の編集をします":"新しくログインユーザーを追加します";$(".iziModal-header-title").text(t),$(".iziModal-header-subtitle").text(i),"edit"===a?($('input[name="login_user_name"]').val(e.user_name),$('input[name="login_user_id"]').val(e.login_id),$('[name="login_authority"] option[value="'+e.authority+'"]').prop("selected",!0),"1"===e.authority?($("#area_select").show(),$('[name="area_name"] option[value="'+e.area_id+'"]').prop("selected",!0)):$("#area_select").hide(),$(".pass-text").show(),"1"===e.id?$(".authority1").hide():$(".authority1").show(),$("#login_modal_submit").attr("data-id",e.id)):($('input[name="login_user_name"]').val(""),$('input[name="login_user_id"]').val(""),$('[name="login_authority"] option[value="1"]').prop("selected",!0),$(".pass-text").hide(),$(".authority1").show(),$("#login_modal_submit").attr("data-id",""),$("#area_select").show()),$("#page05_modal").iziModal("open")},renderMypageActive:function(){1==$('input[name="mypage_flag"]:checked').val()?$("#mypage_active").show():$("#mypage_active").hide()},renderAreaModal:function(e,a){$("#modal-error-message2").hide(),$(".field_page_06").val(""),$("#area_modal_submit").addClass("disabled");var t="edit"===a?"エリア編集":"新規エリア追加",i="edit"===a?"「"+e.area_name+"」の編集をします":"新しいエリアを追加します";$(".iziModal-header-title").text(t),$(".iziModal-header-subtitle").text(i),"edit"===a?($('input[name="area_name"]').val(e.area_name),$('input[name="host_ip"]').val(e.host_ip),$("#area_modal_submit").attr("data-id",e.id)):($('input[name="area_name"]').val(""),$('input[name="host_ip"]').val(""),$("#area_modal_submit").attr("data-id","")),$("#page06_modal").iziModal("open")},renderMessage:function(){0==$('[name="page03_public_message1_flag"]:checked').val()?$(".field_page_03.message-title-input, .field_page_03.message-input").addClass("disabled"):$(".field_page_03.message-title-input, .field_page_03.message-input").removeClass("disabled")},renderSummary:function(e,a){var t,i=$('[name="rule_type_'+e+'"]:checked').val(),n="",l="",o="";1==i&&(t="全体",rule_type_data[e]="all"),2==i&&(t="グループ : ",n=$("#group_title_"+a).text(),l=$(".rule_group_id_"+e+"_"+a+" option:selected").text(),group_no=$(".rule_group_id_"+e+"_"+a+" option:selected").val(),rule_type_data[e]="group-"+a+"-"+group_no),3==i&&(t="個人 : ",o=$('[name="rule_user_id_'+e+'"] option:selected').text(),user_id=$('[name="rule_user_id_'+e+'"] option:selected').val(),rule_type_data[e]="user-"+user_id),$("#rule_type_summary_"+e).text("適応："+t+n+o+" "+l)},renderNewRule:function(){$("#rules_list").prepend(new_rule_html),$(".rule-none-text").hide()}};$(function(){o.renderTab(e),$(".tab").on("click",function(){e=$(this).attr("id").substr(-2),Cookies.set("confTab",e),o.renderTab(e)}),$("#sortable_1, #sortable_2, #sortable_3").sortable(),$("#sortable_1, #sortable_2, #sortable_3").disableSelection(),l[0]=$("#sortable_1").sortable("toArray"),l[1]=$("#sortable_2").sortable("toArray"),l[2]=$("#sortable_3").sortable("toArray"),$("#noticetable_1, #noticetable_2, #noticetable_3").sortable({connectWith:".connectedSortable"}).disableSelection(),0<$("#noticetable_1").sortable("toArray").length?i[0]=$("#noticetable_1").sortable("toArray"):i[0]="none",0<$("#noticetable_2").sortable("toArray").length?i[1]=$("#noticetable_2").sortable("toArray"):i[1]="none",0<$("#noticetable_3").sortable("toArray").length?i[2]=$("#noticetable_3").sortable("toArray"):i[2]="none",$("#rules_list").sortable({connectWith:".connectedSortable"}).disableSelection(),O=$("#rules_list").sortable("toArray"),$(document).on("input change",".field_page_01",function(){$("#submit_page_01").removeClass("disabled")}),$(document).on("click","#submit_page_01",function(){$("#submit_page_01").addClass("disabled"),D.savePage01().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).delegate(".field_page_02","input change",function(){$("#submit_page_02").removeClass("disabled")}),$(document).delegate("#window_open","click",function(){$(".rule-main").show()}),$(document).delegate("#window_close","click",function(){$(".rule-main").hide()}),$(document).delegate(".rule-window-btn","click",function(){var e=$(this).attr("data-ruleid");$(".rule_main_id_"+e).slideToggle()}),$(document).delegate(".rule_type","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$(".rule_type_option_"+e).addClass("rule-hide"),$("#rule_type_"+a+"_"+e).removeClass("rule-hide"),o.renderSummary(e,"")}),$(document).delegate(".rule_type_group","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$('[name="rule_group_id_'+e+'"]').attr("disabled",!0),$(".rule_group_id_"+e+"_"+a).attr("disabled",!1),o.renderSummary(e,a)}),$(document).delegate(".in_marume_flag","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$(".rule_in_marume_option_"+e).addClass("rule-hide"),$("#in_marume_"+a+"_"+e).removeClass("rule-hide")}),$(document).delegate(".out_marume_flag","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$(".rule_out_marume_option_"+e).addClass("rule-hide"),$("#out_marume_"+a+"_"+e).removeClass("rule-hide")}),$(document).delegate(".rest-flag","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$(".rest_content_"+e).hide(),1==a&&$(".rest_content_"+e).show()}),$(document).delegate(".rest-type","click",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();$(".rest-rule-type_"+e).hide(),$("#rest_rule_type"+a+"_"+e).show()}),$(document).delegate(".group-select","input change",function(){var e=$(this).attr("data-ruleid"),a=$(this).attr("data-group-id");o.renderSummary(e,a)}),$(document).delegate(".user-select","input change",function(){var e=$(this).attr("data-ruleid");o.renderSummary(e,"")}),$(document).delegate(".basic-in-flag","input change",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();0==a&&($('[name="in_basic_h_'+e+'"]').attr("disabled",!0),$('[name="in_basic_m_'+e+'"]').attr("disabled",!0)),1==a&&($('[name="in_basic_h_'+e+'"]').attr("disabled",!1),$('[name="in_basic_m_'+e+'"]').attr("disabled",!1))}),$(document).delegate(".basic-out-flag","input change",function(){var e=$(this).attr("data-ruleid"),a=$(this).val();0==a&&($('[name="out_basic_h_'+e+'"]').attr("disabled",!0),$('[name="out_basic_m_'+e+'"]').attr("disabled",!0)),1==a&&($('[name="out_basic_h_'+e+'"]').attr("disabled",!1),$('[name="out_basic_m_'+e+'"]').attr("disabled",!1))}),$(".connectedSortable").bind("sortstop",function(){$("#submit_page_02").removeClass("disabled")}),$(document).delegate("#submit_page_02","click",function(){$("#submit_page_02").addClass("disabled"),D.checkPage02()}),$(document).delegate("#new_rule_page_02","click",function(){$("#new_rule_page_02").addClass("disabled"),$("#submit_page_02").removeClass("disabled"),rule_num[Object.keys(rule_num).length]="new",rule_type_data.new="all",o.renderNewRule()}),$(document).delegate(".rule-del-btn","click",function(){var e=$(this).attr("data-ruleid"),a=$('[name="rest_id_'+e+'"]').val(),t=$('[name="rule_title_'+e+'"]').val(),i=$("#rule_type_summary_"+e).text();(result=window.confirm(t+" "+i+"を削除します。"))&&D.delPage02(e,a).done(function(e){"ok"===e.message&&location.reload()}).fail(function(e){siiimpleToast.alert("削除エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).delegate(".rule-new-del-btn","click",function(){var e=$(this).attr("data-ruleid"),a=($('[name="rest_id_'+e+'"]').val(),$('[name="rule_title_'+e+'"]').val()),e=$("#rule_type_summary_"+e).text();(result=window.confirm(a+" "+e+"を削除します。"))&&location.reload()}),o.renderMessage(),$(document).on("input change",".field_page_03",function(){$("#submit_page_03").removeClass("disabled"),o.renderMessage()}),$(document).on("click","#submit_page_03",function(){$("#submit_page_03").addClass("disabled"),D.savePage03().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).on("input change",".field_page_14",function(){$("#submit_page_14").removeClass("disabled")}),$(document).on("change",'[name="page14_message_in_flag"]',function(){0==$(this).val()?($('[name="page14_message_in_title"]').addClass("disabled"),$('[name="page14_massage_in_detail"]').addClass("disabled")):($('[name="page14_message_in_title"]').removeClass("disabled"),$('[name="page14_massage_in_detail"]').removeClass("disabled"))}),$(document).on("change",'[name="page14_message_out_flag"]',function(){0==$(this).val()?($('[name="page14_message_out_title"]').addClass("disabled"),$('[name="page14_massage_out_detail"]').addClass("disabled")):($('[name="page14_message_out_title"]').removeClass("disabled"),$('[name="page14_massage_out_detail"]').removeClass("disabled"))}),$(document).on("click","#submit_page_14",function(){$(this).addClass("disabled"),D.savePage14().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(".group-item-area").bind("sortstop",function(){var e=$(this).attr("id").slice(-1);l[Number(e)-1]=$(this).sortable("toArray"),$("#submit_page_04").removeClass("disabled")}),$(document).delegate("#item_add_group1","click",function(){o.addGroupItem(1)}),$(document).delegate("#item_add_group2","click",function(){o.addGroupItem(2)}),$(document).delegate("#item_add_group3","click",function(){o.addGroupItem(3)}),$(document).delegate(".field_page_04","input change",function(){$("#submit_page_04").removeClass("disabled")}),$(document).delegate("#submit_page_04","click",function(){$("#submit_page_04").addClass("disabled"),D.savePage04().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).delegate(".group-item-del","click",function(){var e,a=$(this).prev("input").val();window.confirm(a+"を削除してよろしいでしょうか？")&&(a=$(this).attr("data-groupid"),e=$(this).attr("data-itemid"),D.delGroupItem(a,e).done(function(e){location.reload()}).fail(function(e){siiimpleToast.alert("エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}))}),$("#page05_modal").iziModal({headerColor:"#1591a2",focusInput:!1}),$(document).delegate(".login-edit-btn","click",function(){var e=$(this).attr("data-loginid");D.getLoginUserData(e).done(function(e){a="edit",o.renderLoginModal(e,a)})}),$(document).delegate("#login_add_user_btn","click",function(){a="add",o.renderLoginModal(void 0,a)}),$(document).delegate("#login_modal_cancel","click",function(){$("#page05_modal").iziModal("close")}),$(document).delegate(".field_page_05","input change",function(){$("#modal-error-message").hide(),"add"===a&&(""!==$('input[name="login_user_name"]').val()&&""!==$('input[name="login_user_id"]').val()&&""!==$('input[name="login_user_password"]').val()?$("#login_modal_submit").removeClass("disabled"):$("#login_modal_submit").addClass("disabled")),"edit"===a&&(""!==$('input[name="login_user_name"]').val()&&""!==$('input[name="login_user_id"]').val()?$("#login_modal_submit").removeClass("disabled"):$("#login_modal_submit").addClass("disabled"))}),$(document).delegate("#login_modal_submit","click",function(){D.savePage05().done(function(e){"err_id"==e.message&&($("#modal-error-message").text("このログインIDは既に使用されているため登録出来ません。"),$("#modal-error-message").show()),"ok"==e.message&&($("#page05_modal").iziModal("close"),siiimpleToast.message("登録完了",{position:"top|right"}),setTimeout("location.reload()",3e3))}).fail(function(){siiimpleToast.alert("登録エラー",{position:"top|right"})})}),$(document).delegate(".login-del-btn","click",function(){var e=$(this).attr("data-loginid");D.getLoginUserData(e).done(function(e){a="del",confirm("ログインユーザー「"+e.user_name+"」の削除をします")&&D.delPage05(e.id).done(function(e){"ok"==e.message?location.reload():siiimpleToast.alert("エラー",{position:"top|right"})}).fail(function(){siiimpleToast.alert("エラー",{position:"top|right"})})})}),$(document).delegate('[name="login_authority"]',"change",function(){1==$('[name="login_authority"]').val()?$("#area_select").show():$("#area_select").hide()}),$("#page06_modal").iziModal({headerColor:"#1591a2",focusInput:!1}),$(document).delegate(".area-edit-btn","click",function(){var e=$(this).attr("data-areaid");D.getArearData(e).done(function(e){t="edit",o.renderAreaModal(e,t)})}),$(document).delegate("#area_add_btn","click",function(){t="add",o.renderAreaModal(void 0,t)}),$(document).delegate("#area_modal_cancel","click",function(){$("#page06_modal").iziModal("close")}),$(document).delegate(".field_page_06","input change",function(){""!==$('input[name="area_name"]').val()?$("#area_modal_submit").removeClass("disabled"):$("#area_modal_submit").addClass("disabled")}),$(document).delegate("#area_modal_submit","click",function(){D.savePage06().done(function(e){"err_id"==e.message&&($("#modal-error-message2").text("このエリア名は既に使用されているため登録出来ません。"),$("#modal-error-message2").show()),"ok"==e.message&&($("#page06_modal").iziModal("close"),siiimpleToast.message("登録完了",{position:"top|right"}),setTimeout("location.reload()",3e3))}).fail(function(){siiimpleToast.alert("登録エラー",{position:"top|right"})})}),$(document).delegate(".area-del-btn","click",function(){var e=$(this).attr("data-areaid");D.getArearData(e).done(function(e){t="del",confirm("エリア「"+e.area_name+"」の削除をします")&&D.delPage06(e.id).done(function(e){"ok"==e.message?location.reload():siiimpleToast.alert("エラー",{position:"top|right"})}).fail(function(){siiimpleToast.alert("エラー",{position:"top|right"})})})}),$(document).delegate("#submit_page_07","click",function(){$(this).addClass("disabled"),D.savePage07().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),o.renderMypageActive(),$(document).delegate('input[name="mypage_flag"]',"click",function(){o.renderMypageActive()}),$(document).delegate("#submit_page_08","click",function(){$(this).addClass("disabled"),D.savePage08().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).delegate("#submit_page_09","click",function(){$(this).addClass("disabled"),D.savePage09().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(".connectedSortable").bind("sortstop",function(){0<$("#noticetable_1").sortable("toArray").length?i[0]=$("#noticetable_1").sortable("toArray"):i[0]="none",0<$("#noticetable_2").sortable("toArray").length?i[1]=$("#noticetable_2").sortable("toArray"):i[1]="none",0<$("#noticetable_3").sortable("toArray").length?i[2]=$("#noticetable_3").sortable("toArray"):i[2]="none",$("#submit_page_10").removeClass("disabled")}),$(document).delegate(".notice-status","click",function(){var e=$(this).attr("data-noticeid");1==$(this).attr("data-noticestatus")?($(this).attr("data-noticestatus",0),$(this).text("未使用"),n[e]=0):($(this).attr("data-noticestatus",1),$(this).text("使用"),n[e]=1),$(this).toggleClass("active"),$("#submit_page_10").removeClass("disabled")}),$(document).delegate("#submit_page_10","click",function(){$("#submit_page_10").addClass("disabled"),D.savePage10().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$(document).delegate("#output_csv_001","click",function(){var e=$('[name="output_csv_001"]').val();D.csv_download_page_11("001",e)}),$(document).delegate(".field_page_12","input change",function(){$("#submit_page_12").removeClass("disabled"),o.renderMessage()}),$(document).delegate("#submit_page_12","click",function(){D.savePage12().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})}),$("#work_time_register").on("change",function(){var e=$(this).prop("files"),a=new FormData;a.append("files",e[0]),$.ajax({url:"../data/admin_conf_register/work_time",dataType:"text",type:"POST",data:a,processData:!1,contentType:!1}).done(function(e){console.log(e)})}),$(document).on("input change",".field_page_16",function(){$("#submit_page_16").removeClass("disabled")}),$("#submit_page_16").on("click",function(){D.savePage16().done(function(e){"ok"===e.message?siiimpleToast.message("登録完了",{position:"top|right"}):siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)}).fail(function(e){siiimpleToast.alert("登録エラー",{position:"top|right"}),setTimeout("location.reload()",3e3)})})})}();